<template>\n  <div class=\"register-container\">\n    <div class=\"register-form\">\n      <h1>Create Account</h1>\n      <div v-if=\"error\" class=\"error-message\">{{ error }}</div>\n      \n      <form @submit.prevent=\"handleRegister\">\n        <div class=\"form-group\">\n          <label for=\"firstName\">First Name</label>\n          <input \n            type=\"text\" \n            id=\"firstName\" \n            v-model=\"firstName\" \n            required \n            placeholder=\"Enter your first name\"\n          />\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"lastName\">Last Name</label>\n          <input \n            type=\"text\" \n            id=\"lastName\" \n            v-model=\"lastName\" \n            required \n            placeholder=\"Enter your last name\"\n          />\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input \n            type=\"email\" \n            id=\"email\" \n            v-model=\"email\" \n            required \n            placeholder=\"Enter your email\"\n          />\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <input \n            type=\"password\" \n            id=\"password\" \n            v-model=\"password\" \n            required \n            placeholder=\"Create a password\"\n          />\n        </div>\n        \n        <div class=\"form-group\">\n          <label for=\"confirmPassword\">Confirm Password</label>\n          <input \n            type=\"password\" \n            id=\"confirmPassword\" \n            v-model=\"confirmPassword\" \n            required \n            placeholder=\"Confirm your password\"\n          />\n        </div>\n        \n        <button type=\"submit\" class=\"register-button\" :disabled=\"loading || !passwordsMatch\">\n          {{ loading ? 'Creating account...' : 'Register' }}\n        </button>\n        \n        <div v-if=\"!passwordsMatch && confirmPassword\" class=\"password-mismatch\">\n          Passwords do not match\n        </div>\n      </form>\n      \n      <div class=\"form-footer\">\n        <p>Already have an account? <router-link to=\"/login\">Login</router-link></p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\n\nexport default defineComponent({\n  name: 'RegisterView',\n  \n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    \n    const firstName = ref('');\n    const lastName = ref('');\n    const email = ref('');\n    const password = ref('');\n    const confirmPassword = ref('');\n    \n    const loading = computed(() => store.getters.isLoading);\n    const error = computed(() => store.getters.authError);\n    const passwordsMatch = computed(() => \n      !confirmPassword.value || password.value === confirmPassword.value\n    );\n    \n    const handleRegister = async () => {\n      if (!passwordsMatch.value) {\n        return;\n      }\n      \n      try {\n        await store.dispatch('register', { \n          firstName: firstName.value,\n          lastName: lastName.value,\n          email: email.value, \n          password: password.value \n        });\n        \n        // Redirect to home page after successful registration\n        router.push('/');\n      } catch (err) {\n        // Error is handled in the store\n        console.error('Registration failed:', err);\n      }\n    };\n    \n    return {\n      firstName,\n      lastName,\n      email,\n      password,\n      confirmPassword,\n      loading,\n      error,\n      passwordsMatch,\n      handleRegister\n    };\n  }\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@travel-booking/shared-lib/dist/styles/variables.scss';\n@import '@travel-booking/shared-lib/dist/styles/mixins.scss';\n\n.register-container {\n  @include flex-center;\n  min-height: 100vh;\n  padding: $spacing-lg;\n}\n\n.register-form {\n  @include card;\n  width: 100%;\n  max-width: 500px;\n  \n  h1 {\n    text-align: center;\n    margin-bottom: $spacing-lg;\n    color: $primary-color;\n  }\n  \n  .error-message {\n    background-color: rgba($accent-color, 0.1);\n    color: $accent-color;\n    padding: $spacing-sm;\n    border-radius: $border-radius-sm;\n    margin-bottom: $spacing-md;\n    text-align: center;\n  }\n  \n  .password-mismatch {\n    color: $accent-color;\n    font-size: $font-size-sm;\n    margin-top: $spacing-xs;\n    text-align: center;\n  }\n  \n  .form-group {\n    margin-bottom: $spacing-md;\n    \n    label {\n      display: block;\n      margin-bottom: $spacing-xs;\n      font-weight: $font-weight-medium;\n    }\n    \n    input {\n      width: 100%;\n      padding: $spacing-sm;\n      border: 1px solid rgba($text-muted, 0.3);\n      border-radius: $border-radius-sm;\n      font-size: $font-size-md;\n      \n      &:focus {\n        outline: none;\n        border-color: $primary-color;\n      }\n    }\n  }\n  \n  .register-button {\n    @include button-primary;\n    width: 100%;\n    padding: $spacing-md;\n    margin-top: $spacing-md;\n  }\n  \n  .form-footer {\n    margin-top: $spacing-lg;\n    text-align: center;\n    \n    a {\n      color: $primary-color;\n      text-decoration: none;\n      font-weight: $font-weight-medium;\n      \n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n}\n</style>